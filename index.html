<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" href="appicon.png" sizes="512x512" type="image/png">

<!-- Add iOS meta tags and icons -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="/imagine">
<link rel="apple-touch-icon" href="appicon.png">

<!-- OpenGraph tags -->
<meta property="og:title" content="/imagine" />
<meta property="og:description" content="__APPDESC__" />
<meta property="og:image" content="appicon.png" />
<meta property="og:image:secure_url" content="appicon.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />

<!-- PWA manifest -->
<link rel="manifest" href="app.webmanifest">

<meta name="title" content="/imagine">
<meta name="description" content="__APPDESC__">

<!-- Add meta theme-color -->
<meta name="theme-color" content="#000000" />

<title>/imagine</title>
<link rel="stylesheet" type="text/css" href="/vendors/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/vendors/bootstrap/css/bootstrap-icons/font/bootstrap-icons.min.css">
<link rel="stylesheet" type="text/css" href="/res/css/main.css">
<style>
.cards-container {
    display: block;
    text-align: center;
/*
  display: flex;
  justify-content: center;
  align-items: center;
*/

  padding: 20px;
}

.card-exp {
    height: 300px;
    display: inline-block;
    vertical-align:top;
}

.cardtext {
    text-align: left;
}

.logos-dark {
    filter: grayscale(100%) brightness(100.0) !important;
}
</style>

<!-- Vendors -->
<script type="text/javascript" src="/vendors/vendors.min.js"></script>
<script type="text/javascript" src="/vendors/bootstrap/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/dist/THREE.bundle.js"></script>
<script type="module" src="/src/ATON.js"></script>

<!-- Main entry -->
<script>
let APP_INSPECT = undefined;

let bInspect = false;
let exparams = "";

exparams = "?tb=back,vr,devori,qr";

// Capture
exparams += "&mk.hub=https://interlumo.ispc.cnr.it/kapto/&mk.freq=200&mk.attr=nav,pos,dir&mk.dur=600&mk.actor=AFAM25";

let createCard = (sid, title, descr)=>{
    return ATON.UI.createSceneCard({
            sid: sid,
            title: title,
            //size: "large",
            classes: "card-exp",
            useblurtint: true,
            subtitle: ATON.UI.createElementFromHTMLString("<p class='cardtext'>"+descr+"</p>"),
            url: bInspect? APP_INSPECT+"?s="+sid : "/s/"+sid + exparams
        });
};

window.addEventListener( 'load', ()=>{
    APP_INSPECT = ATON.PATH_WAPPS+"merkhet/";

    let urlparams = new URLSearchParams(window.location.search);
    bInspect = urlparams.get("i");

    let elGallery  = ATON.UI.get("scenes");
    let elSubTitle = ATON.UI.get("subtitle");
    let elHeader   = ATON.UI.get("header");

    ATON.realize2D();
    ATON.UI.setTheme("dark");

    elGallery.append(
        createCard("bfanini/20230220-4shod14w9", "The Tale of two Houses",""),
        createCard("bfanini/20230220-z7fos1q99", "The Tale of the Floating Village",""),
        createCard("bfanini/20230929-57ii1i7ht", "Cozy House",""),
        createCard("bfanini/20231026-kjtgo0m0w", "AI Art Gallery",""),
        createCard("bfanini/20240213-txy8q9krt", "Ancient Vase 1",""),
        createCard("bfanini/20240213-iewvzrtvm", "Ancient Vase 2",""),
        createCard("bfanini/20250527-swNi6t0pjI", "Ancient Vase 3",""),
        createCard("smenconero/20241113-tpxfaaj8i", "Barone Rampante","")
    );
});

/*
let createItem = (sid, title, descr, tb)=>{
    let htmlcontent = "";

    let urlCover = ATON.PATH_RESTAPI+"cover/"+sid;
    let url = ATON.BASE_URL+"/s/"+sid+"?";

    if (tb !== undefined){ url += "tb="+tb; }
    else url += "tb=back,vr,qr";
    
    // Tracking
    if (urlparams.get("track")) url += "&mk.freq=200&mk.dur=600"; //&mk.nav=vr";

    let coversizex = 300;
    let coversizey = 350;

    //htmlcontent += "<div style='display:block'>";
    htmlcontent += "<div class='galleryItem'>";

    // gallery item bg
    htmlcontent += "<div class='appBlurBG' style='width:"+coversizex+"px; height:"+coversizey+"px; background-image: url(\""+urlCover+"\")'></div>";

    // gallery item content
    htmlcontent += "<div style='width:"+coversizex+"px; height:"+coversizey+"px; position:absolute; top:0; left:0'>";
    htmlcontent += "<div class='atonBlockSubTitle'>"+title+"</div><br>";

    htmlcontent += "<a class='atonCover' href='"+url+"'>";
    htmlcontent += "<img src='"+urlCover+"' style='width:250px; height:auto'>";
    htmlcontent += "</a>";

    // content
    //htmlcontent += "<br><div class='atonAuthor'><img class='atonSmallIcon' src='"+ATON.PATH_RES+"icons/user.png'>"+user+"</div>";
    //if (descr) htmlcontent += "<div class='galleryItemDescr' style='font-size:small'>"+descr+"</div>";

    //htmlcontent += "</div></div><div style='float:right; max-width: 300px'>"+descr+"</div></div>";
    htmlcontent += "</div></div>";

    $("#idGallery").append(htmlcontent);
}

window.addEventListener("load", ()=>{

    if (urlparams.get("track")) $("#trackMSG").html("<i>Si avvisano i gentili utenti che gli spostamenti nei vari ambienti virtuali verranno tracciati e analizzati per scopi di ricerca nell'ambito di un pilot del progetto <a href='https://www.h2iosc.cnr.it/' target='_blank'>H2IOSC</a>, in forma assolutamente anonima.</i><br><i>Users are advised that motions in the virtual environments will be tracked and analyzed for research purposes within <a href='https://www.h2iosc.cnr.it/' target='_blank'>H2IOSC</a> project, absolutely anonymously.</i>");

    createItem("bfanini/20230220-4shod14w9", "The tale of two houses");
    createItem("bfanini/20230220-z7fos1q99", "The tale of the floating Village");
    createItem("bfanini/20230929-57ii1i7ht", "Cozy house");

    createItem("bfanini/20231026-kjtgo0m0w", "AI Art Gallery");
    createItem("vhlab/20230213-54lv20q4h", "The tomb");

    createItem("bfanini/20240213-txy8q9krt", "Ancient Vase 1", undefined, "back,vr,ar,qr");
    createItem("bfanini/20240213-iewvzrtvm", "Ancient Vase 2", undefined, "back,vr,ar,qr");
    
    createItem("bfanini/20230929-yj3hs9l24", "Why is Digital Heritage important?");
});
*/

</script>
</head>

<body>
    <div id="header">
        <div class="container col-xxl-8 px-3 py-2">
            <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
                <div class="col-10 col-sm-8 col-lg-4 align-items-center">
                    <img src="qr-app.png" class="d-block mx-lg-auto img-fluid" loading="lazy" style="width:100%; height:auto; max-width:500px;">
                </div>

                <div class="col-lg-8">
                    <h1 class="display-5 fw-bold lh-1 mb-3">/imagine</h1>
                    <p class="lead" id="subtitle" style="font-size: smaller;">
                        L’AI generativa può essere utilizzata per accelerare la creazione di contenuti per esperienze interattive o ambienti 3D artificiali che gli utenti possono esplorare direttamente con i comuni browser web. Queste esperienze possono coinvolgere modelli 3D, elementi audio-visivi e narrazioni interattive, integrando molteplici servizi AI.<br><br>
                        
                        In questa raccolta di esperimenti, vengono combinati diversi servizi di AI generativa per creare contenuti visivi e uditivi, brevi narrazioni e favole; traduttori automatici e servizi text-to-speech per arricchire automaticamente scene 3D annotate semanticamente da professionisti per fruizioni XR o tramite dispositivi comuni.

<!--                         Generative A.I. can be used to accelerate content-creation pipelines for interactive experiences or artificial 3D landscapes users can explore using common web browsers. These virtual experiences can incorporate 3D models, audio-visual elements, and interactive storytelling, integrating multiple A.I. services. In these experiments, we combine several generative A.I. services to generate visual and auditory content, short artificial narratives; automatic translators and text-to-speech services to aurally enrich semantically annotated 3D scenes by Heritage professionals for XR consumption. -->
                    </p><br>
                    <img src="res/logos.png" class="d-block mx-lg-auto img-fluid logos-dark" loading="lazy">
                </div>
            </div>
        </div>
    </div>

    <div id="scenes" class="cards-container"></div>
</body>